import{A as T,M as f,U as w,E as x,r as d,O as y,B as P,a1 as I,P as h,X as S,l as B,a2 as C,a3 as A,R as D,e as u,I as N,H as O,a4 as R,a5 as j,Y as z,a6 as E,a0 as M,K as U}from"./index-5e3051ec.js";function _(e,c){let o=null,i=0;return function(...n){if(o)return;const a=Date.now()-i,l=()=>{i=Date.now(),o=!1,e.apply(this,n)};a>=c?l():o=setTimeout(l,c)}}const[q,m]=T("back-top"),H={right:f,bottom:f,zIndex:f,target:[String,Object],offset:w(200),immediate:Boolean,teleport:{type:[String,Object],default:"body"}};var K=x({name:q,inheritAttrs:!1,props:H,emits:["click"],setup(e,{emit:c,slots:o,attrs:i}){let n=!1;const a=d(!1),l=d(),s=d(),b=y(()=>P(I(e.zIndex),{right:h(e.right),bottom:h(e.bottom)})),k=t=>{var r;c("click",t),(r=s.value)==null||r.scrollTo({top:0,behavior:e.immediate?"auto":"smooth"})},v=()=>{a.value=s.value?M(s.value)>=+e.offset:!1},p=()=>{const{target:t}=e;if(typeof t=="string"){const r=document.querySelector(t);if(r)return r}else return t},g=()=>{j&&z(()=>{s.value=e.target?p():E(l.value),v()})};return S("scroll",_(v,100),{target:s}),B(g),C(()=>{n&&(a.value=!0,n=!1)}),A(()=>{a.value&&e.teleport&&(a.value=!1,n=!0)}),D(()=>e.target,g),()=>{const t=u("div",O({ref:e.teleport?void 0:l,class:m({active:a.value}),style:b.value,onClick:k},i),[o.default?o.default():u(N,{name:"back-top",class:m("icon")},null)]);return e.teleport?[u("div",{ref:l,class:m("placeholder")},null),u(R,{to:e.teleport},{default:()=>[t]})]:t}}});const V=U(K);export{V as B};
