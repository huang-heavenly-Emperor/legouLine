import{f as d,F as _}from"./index-0b78405c.js";import{u as w}from"./use-id-5f39560e.js";import{u as F}from"./use-expose-52ad8c3a.js";import{A as L,B as f,C as i,D as N,E as B,r as D,e as a,G as u,H as T,J as K,K as O}from"./index-5e3051ec.js";const[j,t,q]=L("search"),G=f({},d,{label:String,shape:i("square"),leftIcon:i("search"),clearable:N,actionText:String,background:String,showAction:Boolean});var H=B({name:j,props:G,emits:["blur","focus","clear","search","cancel","clickInput","clickLeftIcon","clickRightIcon","update:modelValue"],setup(n,{emit:c,slots:o,attrs:b}){const h=w(),l=D(),k=()=>{o.action||(c("update:modelValue",""),c("cancel"))},I=e=>{e.keyCode===13&&(K(e),c("search",n.modelValue))},r=()=>n.id||`${h}-input`,p=()=>{if(o.label||n.label)return a("label",{class:t("label"),for:r()},[o.label?o.label():n.label])},C=()=>{if(n.showAction){const e=n.actionText||q("cancel");return a("div",{class:t("action"),role:"button",tabindex:0,onClick:k},[o.action?o.action():e])}},g=()=>{var e;return(e=l.value)==null?void 0:e.blur()},m=()=>{var e;return(e=l.value)==null?void 0:e.focus()},v=e=>c("blur",e),x=e=>c("focus",e),E=e=>c("clear",e),R=e=>c("clickInput",e),S=e=>c("clickLeftIcon",e),y=e=>c("clickRightIcon",e),A=Object.keys(d),P=()=>{const e=f({},b,u(n,A),{id:r()}),s=V=>c("update:modelValue",V);return a(_,T({ref:l,type:"search",class:t("field"),border:!1,onBlur:v,onFocus:x,onClear:E,onKeypress:I,onClickInput:R,onClickLeftIcon:S,onClickRightIcon:y,"onUpdate:modelValue":s},e),u(o,["left-icon","right-icon"]))};return F({focus:m,blur:g}),()=>{var e;return a("div",{class:t({"show-action":n.showAction}),style:{background:n.background}},[(e=o.left)==null?void 0:e.call(o),a("div",{class:t("content",n.shape)},[p(),P()]),C()])}}});const M=O(H);export{M as S};
