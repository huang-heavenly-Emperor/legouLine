import{_ as w,s as S,u as I,a as L,O as V,l as x,b as d,c,d as s,e as l,w as C,t as e,j as u,F as D,g as A,T as B,p as N,k as O,I as G}from"./index-5e3051ec.js";import{S as T}from"./index-0f76cfe5.js";import{n as F}from"./navBar-2ff5468b.js";import{o as P}from"./index-ca0b7413.js";import{u as R}from"./addressInfo-29843528.js";import{a as j}from"./function-call-cb4b542b.js";import"./index-9a6c82b8.js";import"./http-c830e3c3.js";import"./use-expose-52ad8c3a.js";const i=n=>(N("data-v-7901c858"),n=n(),O(),n),E={class:"order-container"},M={class:"nav-bar"},$=i(()=>s("div",{class:"default"},"默认",-1)),q={class:"address-info"},z={class:"content van-ellipsis"},H={class:"address"},J=i(()=>s("br",null,null,-1)),K=i(()=>s("div",{class:"selectAddress"}," 选择地址 ",-1)),Q=[K],U={class:"goodList"},W=["onClick"],X={class:"goods-img"},Y=["src"],Z={class:"content"},ss={class:"title"},ts={class:"footer"},es={class:"price"},os={class:"count"},as={class:"goods-base-info"},ds={class:"info"},cs=i(()=>s("div",{class:"left"},"商品合计",-1)),is={class:"right"},ns=B('<div class="info" data-v-7901c858><div class="left" data-v-7901c858>运费</div><div class="right" data-v-7901c858>免运费</div></div><div class="info" data-v-7901c858><div class="left" data-v-7901c858>优惠券</div><div class="right" data-v-7901c858>暂无</div></div>',2),rs={class:"payment"},ls={class:"total"},_s=i(()=>s("span",{class:"left"},"实付：",-1)),vs={class:"price"},ps={__name:"OrderView",setup(n){const{addressInfo:_}=S(R()),v=I(),t=L({address:{},goodsList:[]}),p=V(()=>t.goodsList.reduce((o,r)=>o+=r.number*r.retail_price,0));x(()=>{m()});const m=async()=>{let o=await P();console.log(o),_.value.name?t.address=_.value:t.address=o.address,t.goodsList=o.goodsList},h=()=>{v.push({name:"Address"})},f=o=>{v.push({name:"GoodsDetail",params:{id:o}})},g=()=>{j({type:"warning",message:"接口尚未开通"})};return(o,r)=>{const k=F,y=T,b=G;return d(),c("div",E,[s("div",M,[l(y,null,{default:C(()=>[l(k,{title:"确认订单"})]),_:1})]),t.address.name?(d(),c("div",{key:0,class:"address-card van-haptics-feedback",onClick:h},[$,s("div",q,[s("div",z,[s("span",null,e(t.address.name),1),s("span",null,e(t.address.mobile),1),s("div",H,[u(e(t.address.address)+" ",1),J,u(" "+e(t.address.address_detail),1)])]),l(b,{name:"arrow",class:"arr-right"})])])):(d(),c("div",{key:1,class:"address-card van-haptics-feedback",onClick:h},Q)),s("div",U,[(d(!0),c(D,null,A(t.goodsList,a=>(d(),c("div",{class:"goods van-haptics-feedback",key:a.id,onClick:hs=>f(a.goods_id)},[s("div",X,[s("img",{class:"img",src:a.list_pic_url,alt:""},null,8,Y)]),s("div",Z,[s("div",ss,e(a.goods_name),1),s("div",ts,[s("div",es,"￥"+e(a.retail_price)+"元",1),s("div",os,"× "+e(a.number),1)])])],8,W))),128))]),s("div",as,[s("div",ds,[cs,s("div",is,"￥"+e(p.value)+"元",1)]),ns]),s("div",rs,[s("div",ls,[_s,s("div",vs,"￥"+e(p.value),1)]),s("button",{class:"pay-btn van-haptics-feedback",onClick:g},"支付")])])}}},Is=w(ps,[["__scopeId","data-v-7901c858"]]);export{Is as default};
